# Pylint-raportti
```
Pylint antaa seuraavan raportin sovelluksesta:
************* Module app
app.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app.py:18:0: C0116: Missing function or method docstring (missing-function-docstring)
app.py:22:0: C0116: Missing function or method docstring (missing-function-docstring)
app.py:29:0: C0116: Missing function or method docstring (missing-function-docstring)

------------------------------------------------------------------
Your code has been rated at 8.18/10

************* Module database
database.py:5:15: C0303: Trailing whitespace (trailing-whitespace)
database.py:7:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:12:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:13:28: C0303: Trailing whitespace (trailing-whitespace)
database.py:26:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:34:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:45:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:47:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:53:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:56:81: C0303: Trailing whitespace (trailing-whitespace)
database.py:65:31: C0303: Trailing whitespace (trailing-whitespace)
database.py:67:0: C0301: Line too long (120/100) (line-too-long)
database.py:71:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:78:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:83:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:90:87: C0303: Trailing whitespace (trailing-whitespace)
database.py:92:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:93:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:98:67: C0303: Trailing whitespace (trailing-whitespace)
database.py:100:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:110:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:117:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:125:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:131:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:143:37: C0303: Trailing whitespace (trailing-whitespace)
database.py:144:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:145:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:149:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:155:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:160:96: C0303: Trailing whitespace (trailing-whitespace)
database.py:162:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:167:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:172:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:180:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:185:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:196:13: C0303: Trailing whitespace (trailing-whitespace)
database.py:197:94: C0303: Trailing whitespace (trailing-whitespace)
database.py:200:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:205:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:217:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:222:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:232:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:233:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:241:0: C0303: Trailing whitespace (trailing-whitespace)
database.py:1:0: C0114: Missing module docstring (missing-module-docstring)
database.py:46:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:54:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:72:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:72:4: R0913: Too many arguments (7/5) (too-many-arguments)
database.py:72:4: R0917: Too many positional arguments (7/5) (too-many-positional-arguments)
database.py:79:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:84:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:94:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:101:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:111:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:132:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:146:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:150:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:156:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:156:4: R0913: Too many arguments (7/5) (too-many-arguments)
database.py:156:4: R0917: Too many positional arguments (7/5) (too-many-positional-arguments)
database.py:163:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:168:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:174:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:181:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:186:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:201:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:206:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:223:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:234:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:238:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:242:4: C0116: Missing function or method docstring (missing-function-docstring)
database.py:5:0: R0904: Too many public methods (24/20) (too-many-public-methods)

------------------------------------------------------------------
Your code has been rated at 4.47/10

************* Module user_routes
user_routes.py:12:39: C0303: Trailing whitespace (trailing-whitespace)
user_routes.py:22:0: C0303: Trailing whitespace (trailing-whitespace)
user_routes.py:40:66: C0303: Trailing whitespace (trailing-whitespace)
user_routes.py:42:45: C0303: Trailing whitespace (trailing-whitespace)
user_routes.py:73:34: C0303: Trailing whitespace (trailing-whitespace)
user_routes.py:87:55: C0303: Trailing whitespace (trailing-whitespace)
user_routes.py:102:54: C0303: Trailing whitespace (trailing-whitespace)
user_routes.py:1:0: C0114: Missing module docstring (missing-module-docstring)
user_routes.py:10:0: C0116: Missing function or method docstring (missing-function-docstring)
user_routes.py:24:0: C0116: Missing function or method docstring (missing-function-docstring)
user_routes.py:31:0: C0116: Missing function or method docstring (missing-function-docstring)
user_routes.py:31:0: R1710: Either all return statements in a function should return an expression, or none of them should. (inconsistent-return-statements)

------------------------------------------------------------------
Your code has been rated at 8.42/10

************* Module workout_routes
workout_routes.py:8:85: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:17:22: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:38:0: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:45:56: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:49:33: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:81:107: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:81:0: C0301: Line too long (107/100) (line-too-long)
workout_routes.py:112:14: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:117:0: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:136:14: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:137:0: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:138:74: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:154:0: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:158:0: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:163:0: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:168:33: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:172:14: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:183:0: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:186:0: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:190:0: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:217:0: C0301: Line too long (107/100) (line-too-long)
workout_routes.py:8:1: W0511: TODO make workout_type consistent ( sport or workout_type ) now there is both used..  (fixme)
workout_routes.py:9:1: W0511: TODO: add error handling where missing (fixme)
workout_routes.py:103:5: W0511: TODO not the best way create workout obj.. (fixme)
workout_routes.py:1:0: C0114: Missing module docstring (missing-module-docstring)
workout_routes.py:36:0: C0116: Missing function or method docstring (missing-function-docstring)
workout_routes.py:40:0: C0116: Missing function or method docstring (missing-function-docstring)
workout_routes.py:85:0: C0116: Missing function or method docstring (missing-function-docstring)
workout_routes.py:96:0: C0116: Missing function or method docstring (missing-function-docstring)
workout_routes.py:96:0: R1710: Either all return statements in a function should return an expression, or none of them should. (inconsistent-return-statements)  
workout_routes.py:119:0: C0116: Missing function or method docstring (missing-function-docstring)
workout_routes.py:143:0: C0116: Missing function or method docstring (missing-function-docstring)
workout_routes.py:179:0: C0116: Missing function or method docstring (missing-function-docstring)
workout_routes.py:207:0: C0116: Missing function or method docstring (missing-function-docstring)
workout_routes.py:218:0: C0116: Missing function or method docstring (missing-function-docstring)

------------------------------------------------------------------
Your code has been rated at 7.77/10

************* Module workout
workout.py:16:0: C0303: Trailing whitespace (trailing-whitespace)
workout.py:19:0: C0303: Trailing whitespace (trailing-whitespace)
workout.py:1:0: C0114: Missing module docstring (missing-module-docstring)
workout.py:1:0: C0115: Missing class docstring (missing-class-docstring)
workout.py:1:0: R0902: Too many instance attributes (9/7) (too-many-instance-attributes)
workout.py:2:4: R0913: Too many arguments (10/5) (too-many-arguments)
workout.py:2:4: R0917: Too many positional arguments (10/5) (too-many-positional-arguments)
workout.py:17:4: C0116: Missing function or method docstring (missing-function-docstring)
workout.py:20:4: C0116: Missing function or method docstring (missing-function-docstring)

------------------------------------------------------------------
Your code has been rated at 4.00/10
```

Käydään seuraavaksi läpi pylint-raporttien sisältö ja tarkastellaan miksi joitain asioita ei ole korjattu 

## Trailing-whitespace ilmoitukset
Näitä ilmoituksia esiintyy raportissa paljon
```
workout.py:16:0: C0303: Trailing whitespace (trailing-whitespace)
user_routes.py:78:34: C0303: Trailing whitespace (trailing-whitespace)
workout_routes.py:164:0: C0303: Trailing whitespace (trailing-whitespace)
```
Nämä ovat joko pylintin bugeja(ei ole mitää tyhjää tilaa näkyvillä) tai sitten tarkoituksella jätettyjä välejä, jotte koodia olisi helpompaa lukea.

## Docstring-ilmoitukset

Suuri osa raportin ilmoituksista on seuraavan tyyppisiä ilmoituksia:

```
workout_routes.py:208:0: C0116: Missing function or method docstring (missing-function-docstring)
user_routes.py:1:0: C0114: Missing module docstring (missing-module-docstring)
```

Nämä ilmoitukset tarkoittavat sitä, että moduuleissa/luokissa/funktioissa/metodeissa ei ole docstring kommentteja. Nämä on jätetty pois koska sovelluksen kehityksessä on pyritty käyttämään kuvaavia nimiä moduuleissa, luokissa, funktioissa ja metodeissa. Myös ajankäytölliset syyt ovat mukana poisjättämisessä.

## Too many public methods ilmoitus
```
database.py:5:0: R0904: Too many public methods (24/20) (too-many-public-methods)
```
Tietokantaluokka on paisunut ja se sisältää ilmoituksen mukaan liikaa julkisia metodeja. Tämän korjaaminen olisi mahdollista kun sovelluksen arkkitehtuuria muuttaisi tai yhdistelisi metodeja tässä luokassa, mutta tämä ei ole mielestäni tässä tilanteessa relevantti ongelma.

## Too many arguments / positional arguments
Ilmoitukset kuten ->
```
database.py:155:4: R0913: Too many arguments (7/5) (too-many-arguments)
database.py:155:4: R0917: Too many positional arguments (7/5) (too-many-positional-arguments)
workout.py:2:4: R0917: Too many positional arguments (10/5) (too-many-positional-arguments)
```
Nämä ilmoitukset johtuvat siitä, että argumenttejä/positionaalisia argumenttjä on käytössä liikaa, mutta esimerkiksi kun lisätään tietokannan tauluun rivi, voi pylintin maksimimäärä `5` ylittyä. Tämän voisi korjata esimerkiksi jollai toisella tavalla välittää data tälle metodille kuten listana tai oliona mutta tässä tilanteessa se on tietoisesti jätetty tekemättä. 

## TODO ilmoitukset
Nämä ilmestyvät koska `TODO` kommentit ovat jätetty sovellukseen. Nämä kommentit ovat mahdollista jatkokehitystä varten.


## Puuttuva palautusarvo

Raportin ilmoitukset liittyen funktion palautusarvoon:

```
user_routes.py:31:0: R1710: Either all return statements in a function should return an expression, or none of them should. (inconsistent-return-statements)

workout_routes.py:96:0: R1710: Either all return statements in a function should return an expression, or none of them should. (inconsistent-return-statements)

```

Nämä ilmoitukset liittyvät tilanteeseen, jossa funktio käsittelee metodit `GET` ja `POST` mutta ei muita metodeja. Esimerkiksi ensimmäinen ilmoitus koskee seuraavaa funktiota:
```
@users_bp.route("/register", methods=["GET", "POST"])
def register():
    if request.method == "GET":
        return render_template("register.html", filled={})

    if request.method == "POST":
        username = request.form["username"]
        if len(username) > 16: # should not happen
            flash("VIRHE: tunnus liian pitkä!")
            filled = {"username": username}
            return render_template("register.html", filled=filled)       
        password1 = request.form["password1"]
        password2 = request.form["password2"]  
        if not password1.strip():
            flash("VIRHE: salasana ei voi olla tyhjä!")
            filled = {"username": username}
            return render_template("register.html", filled=filled)

        if password1 != password2:
            flash("VIRHE: Antamasi salasanat eivät ole samat")
            filled = {"username": username}
            return render_template("register.html", filled=filled)
        password_hash = generate_password_hash(password1)
        try:
            db = Database()
            db.add_user(username, password_hash)
            db.close()
        except sqlite3.IntegrityError:
            flash("VIRHE: Valitsemasi tunnus on jo varattu")
            filled = {"username": username}
            return render_template("register.html", filled=filled)
        finally:
            if db:
                db.close()

        flash("Tunnuksen luominen onnistui, voit nyt kirjautua sisään")
        return redirect("/")
```
Tässä funktio palauttaa arvon, kun `request.method` on `GET` tai `POST`, mutta periaatteessa voisi tulla tilanne, jossa `request.method` on jokin muu ja funktio ei palauttaisi sitten mitään. Koska kuitenkin funktion dekoraattorissa on vaatimus, että metodin tulee olla `GET` tai `POST` niin muilla metodeilla ei tähän funktioon edes pääsisi mikä käytännössä poistaa ongelman, että mitää ei palautuisi.

## Ilmotukset liian pitkistä riveistä
Esimerkiksi 
```
workout_routes.py:81:0: C0301: Line too long (107/100) (line-too-long)
```
Tämä rivi jatkuu kommentilla mikä tekee siitä liian pitkän pylint-määritysten mukaisesti. Kuitenkin nämä muutamat ilmoitukset, liian pitkistä riveistä, eivät vaikuta koodin luettavuuden laatuun vaan, ennenminkin parantavat sitä, joten tämän myötä näitä ei ole korjattu.

